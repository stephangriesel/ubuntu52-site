---
import Head from "../components/Head.astro";

import Nav from "../components/Nav.astro";
import Footer from "../components/Footer.astro";
import { SITE } from "../config";

import GalleryPreview from "../components/GalleryPreview.astro";

let { title } = SITE;
let description = "Custom-made designs made simple";
let permalink = "https://ubuntu52.com/";

let allPosts = await Astro.glob("./posts/*.md");
allPosts = allPosts.sort(
  (a, b) =>
    new Date(b.frontmatter.publishDate).valueOf() -
    new Date(a.frontmatter.publishDate).valueOf()
);
---

<html lang="en">
  <head>
    <Head {title} {description} {permalink} />
  </head>

  <body>
    <div class="ml-[auto] mr-[auto] w-full max-w-[65em] pl-[2rem] pr-[2rem]">
      <Nav />
      <div class="ml-[auto] mr-[auto] w-full max-w-[65em] pl-[2rem] pr-[2rem]">
        <div class="py-8 px-4 mx-auto max-w-screen-xl text-center lg:py-16">
          <h1
            class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-6xl dark:text-white font-pathway-gothic-one"
          >
            PROJECTS
          </h1>
        </div>
      </div>
      <section class="grid grid-cols-1 md:grid-cols-3">
        {allPosts.map((p) => <GalleryPreview post={p} />)}
      </section>
      <Footer />
    </div>
  </body>
</html>
